# EMLeditor

## Overview

The goal of EMLeditor is to edit EML-formatted xml files. Specifically,
EMLeditor provides many functions that will be useful to the U.S.
National Park Service when generating metadata for statistical data
packages uploaded to DataStore. NPS affiliation is assumed as default.
However, the functions for viewing and editing metadata may be useful to
people outside the NPS.

## Installation and updates

You can install and update the development version of EMLeditor from
[GitHub](https://github.com/) with:

``` r
# install.packages("pak")
pak::pkg_install("nationalparkservice/EMLeditor")
```

To install all the packages in the
[NPSdataverse](https://github.com/nationalparkservice/NPSdataverse)
(including EMLeditor):

``` r
pak::pkg_install("nationalparkservice/NPSdataverse")
```

## Workflow outline

EMLeditor comes with a template Rmarkdown script that you can edit to
generate a fully fledged EML document. The script includes and
accompanying documentation includes information on:

1.  Generating an initial EML document using the R/EMLassemblyline
    package functions
2.  Adding in NPS specific and DataStore specific EML elements using the
    R/EMLeditor package functions
3.  Generating a draft data package reference on DataStore and
    incorporating DOIs into the metadata
4.  Checking the EML document to make sure it is schema-valid and passes
    all the necessary tests for uploading to DataStore (using the
    `run_congruence_checks()` function from the
    [DPchecker](https://nationalparkservice.github.io/DPchecker/)
    package)
5.  Uploading a completed data package to DataStore

Please *DO NOT ACTIVATE* the DataStore reference: prior to activation,
data packages need to be reviewed via a yet-to-be-created process.

## Accessing the EML creation script

To access the EML creation script from within EMLeditor, install (or
update) the EMLeditor package and restart R. From within Rstudio, select
the “File” drop-down menu and choose “New File” (the first option). From
within the “New File” menu, select “Rmarkdown…”. In the pop-up menu,
select “From Template on the left hand side. Then choose the
template,”Editable_EML_Creation_Workflow {EMLeditor}” then click “OK”.

## Additional considerations

If you use EMLeditor functions to alter your metadata (e.g. “set” class
functions) they will also silently add the National Park Service as a
publisher (including location, [ROR id](https://ror.org/), etc) to your
metadata unless you set NPS=FALSE. If you leave the default setting as
NPS=TRUE, EMLeditor will also assume the data package is being created
“by or for the NPS” and add that information to the metadata.

EMLeditor will also add information about the version of EMLeditor you
used to edit your metadata (for instance if you used “set” class
functions).

# Package index

## All functions

- [`get_abstract()`](https://nationalparkservice.github.io/EMLeditor/reference/get_abstract.md)
  : returns the abstract
- [`get_additional_info()`](https://nationalparkservice.github.io/EMLeditor/reference/get_additional_info.md)
  : Get additional information (Notes on DataStore)
- [`get_attribute_tables()`](https://nationalparkservice.github.io/EMLeditor/reference/get_attribute_tables.md)
  : Creates attribute tables from an EML object
- [`get_author_list()`](https://nationalparkservice.github.io/EMLeditor/reference/get_author_list.md)
  : returns the authors
- [`get_begin_date()`](https://nationalparkservice.github.io/EMLeditor/reference/get_begin_date.md)
  : returns the first date
- [`get_catvar_tables()`](https://nationalparkservice.github.io/EMLeditor/reference/get_catvar_tables.md)
  : Creates categorical variable tables from an EML object
- [`get_citation()`](https://nationalparkservice.github.io/EMLeditor/reference/get_citation.md)
  : returns the data package citation
- [`get_content_units()`](https://nationalparkservice.github.io/EMLeditor/reference/get_content_units.md)
  : returns the park unit connections
- [`get_cui()`](https://nationalparkservice.github.io/EMLeditor/reference/get_cui.md)
  **\[deprecated\]** : returns a CUI statement
- [`get_cui_code()`](https://nationalparkservice.github.io/EMLeditor/reference/get_cui_code.md)
  : returns a CUI dissemination code statement
- [`get_cui_marking()`](https://nationalparkservice.github.io/EMLeditor/reference/get_cui_marking.md)
  : Returns the CUI marking
- [`get_doi()`](https://nationalparkservice.github.io/EMLeditor/reference/get_doi.md)
  : returns the DOI
- [`get_drr_doi()`](https://nationalparkservice.github.io/EMLeditor/reference/get_drr_doi.md)
  : returns the DOI of the associated DRR
- [`get_drr_title()`](https://nationalparkservice.github.io/EMLeditor/reference/get_drr_title.md)
  : returns the title of the associated DRR
- [`get_ds_id()`](https://nationalparkservice.github.io/EMLeditor/reference/get_ds_id.md)
  : returns the DataStore Reference ID
- [`get_eml_simple()`](https://nationalparkservice.github.io/EMLeditor/reference/get_eml_simple.md)
  : Returns a simple list of eml elements
- [`get_end_date()`](https://nationalparkservice.github.io/EMLeditor/reference/get_end_date.md)
  : returns the last date
- [`get_file_info()`](https://nationalparkservice.github.io/EMLeditor/reference/get_file_info.md)
  : displays file names, sizes, and descriptions
- [`get_lit()`](https://nationalparkservice.github.io/EMLeditor/reference/get_lit.md)
  : Get literature cited
- [`get_methods()`](https://nationalparkservice.github.io/EMLeditor/reference/get_methods.md)
  : Get methods
- [`get_producing_units()`](https://nationalparkservice.github.io/EMLeditor/reference/get_producing_units.md)
  : Returns the Producing Units
- [`get_publisher()`](https://nationalparkservice.github.io/EMLeditor/reference/get_publisher.md)
  : Returns the publisher information
- [`get_title()`](https://nationalparkservice.github.io/EMLeditor/reference/get_title.md)
  : returns the data package title
- [`remove_datastore_files()`](https://nationalparkservice.github.io/EMLeditor/reference/remove_datastore_files.md)
  : Remove files from a data package Reference on DataStore
- [`set_abstract()`](https://nationalparkservice.github.io/EMLeditor/reference/set_abstract.md)
  : adds an abstract
- [`set_additional_info()`](https://nationalparkservice.github.io/EMLeditor/reference/set_additional_info.md)
  : Set Notes for DataStore landing page
- [`set_content_units()`](https://nationalparkservice.github.io/EMLeditor/reference/set_content_units.md)
  : Add Park Unit Connections to metadata
- [`set_creator_orcids()`](https://nationalparkservice.github.io/EMLeditor/reference/set_creator_orcids.md)
  : Allows user to add ORCids to the creator
- [`set_creator_order()`](https://nationalparkservice.github.io/EMLeditor/reference/set_creator_order.md)
  : Rearrange the order of creators (authors)
- [`set_creator_orgs()`](https://nationalparkservice.github.io/EMLeditor/reference/set_creator_orgs.md)
  : Add an organization as a creator to metadata (author in DataStore)
- [`set_cui()`](https://nationalparkservice.github.io/EMLeditor/reference/set_cui.md)
  **\[deprecated\]** : Adds CUI to metadata
- [`set_cui_code()`](https://nationalparkservice.github.io/EMLeditor/reference/set_cui_code.md)
  : Adds CUI dissemination codes to metadata
- [`set_cui_marking()`](https://nationalparkservice.github.io/EMLeditor/reference/set_cui_marking.md)
  **\[experimental\]** : The function sets the CUI marking for the data
  package
- [`set_data_urls()`](https://nationalparkservice.github.io/EMLeditor/reference/set_data_urls.md)
  : Update (or add) data table URLs
- [`set_datastore_doi()`](https://nationalparkservice.github.io/EMLeditor/reference/set_datastore_doi.md)
  : Initiates a draft reference and inserts the reserved DOI into
  metadata
- [`set_doi()`](https://nationalparkservice.github.io/EMLeditor/reference/set_doi.md)
  : Check & set a DOI
- [`set_drr()`](https://nationalparkservice.github.io/EMLeditor/reference/set_drr.md)
  : adds DRR connection
- [`set_int_rights()`](https://nationalparkservice.github.io/EMLeditor/reference/set_int_rights.md)
  : Set Intellectual Rights (and License)
- [`set_language()`](https://nationalparkservice.github.io/EMLeditor/reference/set_language.md)
  : Set the human language used for metadata
- [`set_lit()`](https://nationalparkservice.github.io/EMLeditor/reference/set_lit.md)
  **\[experimental\]** : Edit literature cited
- [`set_methods()`](https://nationalparkservice.github.io/EMLeditor/reference/set_methods.md)
  : Sets the Methods in metadata
- [`set_missing_data()`](https://nationalparkservice.github.io/EMLeditor/reference/set_missing_data.md)
  : Adds a missing value code and definition to EML metadata
- [`set_new_creator()`](https://nationalparkservice.github.io/EMLeditor/reference/set_new_creator.md)
  : Adds creators to EML
- [`set_producing_units()`](https://nationalparkservice.github.io/EMLeditor/reference/set_producing_units.md)
  : Sets Producing Units for use in DataStore
- [`set_project()`](https://nationalparkservice.github.io/EMLeditor/reference/set_project.md)
  : Adds a reference to a DataStore Project housing the data package
- [`set_protocol()`](https://nationalparkservice.github.io/EMLeditor/reference/set_protocol.md)
  **\[experimental\]** : Adds a connection to the protocol under which
  the data were collected
- [`set_publisher()`](https://nationalparkservice.github.io/EMLeditor/reference/set_publisher.md)
  : Set Publisher
- [`set_title()`](https://nationalparkservice.github.io/EMLeditor/reference/set_title.md)
  : Edit data package title
- [`upload_data_package()`](https://nationalparkservice.github.io/EMLeditor/reference/upload_data_package.md)
  : Upload a data package to DataStore
- [`write_attribute_tables()`](https://nationalparkservice.github.io/EMLeditor/reference/write_attribute_tables.md)
  : Writes attribute tables from an EML object as text files
- [`write_catvar_tables()`](https://nationalparkservice.github.io/EMLeditor/reference/write_catvar_tables.md)
  : Writes categorical variable tables from an EML object as text files
- [`write_readme()`](https://nationalparkservice.github.io/EMLeditor/reference/write_readme.md)
  : Writes a README file

# Articles

### All vignettes

- [Pre-Requisites](https://nationalparkservice.github.io/EMLeditor/articles/a01_prereqs.md):

- [EML Creation
  Script](https://nationalparkservice.github.io/EMLeditor/articles/a02_EML_creation_script.md):

- [Editing .txt
  Files](https://nationalparkservice.github.io/EMLeditor/articles/a03_Template_edits.md):

  Resources and Guides for using EMLassemblyline to create EML for
  National Park Service data packages

- [Editing or fixing EML
  Files](https://nationalparkservice.github.io/EMLeditor/articles/a04_Editing_fixing_eml.md):

  Resources and Guides for using EMLassemblyline to create EML for
  National Park Service data packages

- [Advanced
  Functionality](https://nationalparkservice.github.io/EMLeditor/articles/a05_advanced_functionality.md):
