<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="EMLeditor"><title>EMLeditor • EMLeditor</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="EMLeditor"><meta property="og:description" content="EMLeditor"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">EMLeditor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../articles/EMLeditor.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>EMLeditor</h1>
            
      
      
      <div class="d-none name"><code>EMLeditor.Rmd</code></div>
    </div>

    
    
<div id="dependencies" class="section level1">
<h1>Dependencies</h1>
<p>In addition to <a
href="https://github.com/nationalparkservice/EMLeditor">EMLeditor</a>,
you will also need the <a
href="https://cran.r-project.org/web/packages/EML/index.html">EML
package</a> to complete these steps.</p>
<p>You can download and install them individually, or get everything you
need at once from the <a
href="https://github.com/nationalparkservice/NPSdataverse">NPSdataverse</a>
using:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#install the NPSdataverse:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;nationalparkservice/NPSdataverse&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(NPSdataverse)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#individual install:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;devtools&quot;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;nationalparkservice/EMLeditor&quot;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;EML&quot;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(EML)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(EMLeditor)</span></code></pre></div>
</div>
<div id="workflow-outline" class="section level1">
<h1>Workflow outline</h1>
<p>EMLeditor’s primary objective is to edit and view EML formatted
files, not to generate them from scratch. A suggested workflow is:</p>
<ol style="list-style-type: decimal">
<li>Use the EMLassemblyline::make_eml() to generate an initial EML
document and save it as a .xml file (NPS naming convention is:
*_metadata.xml)</li>
<li>Use the EML::read_eml() function to load your EML file into R as an
R object.</li>
<li>Use EMLeditor functions to edit the metadata in R and evaluate
whether your metadata is acceptable (don’t forget to use
EML::eml_validate() to make sure you are generating valid EML).</li>
<li>Use the EML::write_eml() function to write the R object back to XML
(remember the NPS naming convention for metadata files is
*_metadata.xml).</li>
</ol>
<p>If you use EMLeditor functions to alter your metadata (e.g. any
function with the prefix “set_” in the name) they will also silently add
the National Park Service as a publisher (including location, ROR, etc)
to your metadata unless you set NPS=FALSE. If you leave the default
setting as NPS=TRUE, EMLeditor will also assume the data package is
being created “by or for the NPS” and add that information to the
metadata.</p>
<p>“set_” functions will also inject information about which version of
EMLeditor you used into the metadata.</p>
</div>
<div id="a-minimal-workflow" class="section level1">
<h1>A Minimal Workflow</h1>
<p>This workflow assumes your EML was generated using <a
href="https://github.com/EDIorg/emlAssemblyLine">EMLassemblyline</a>,
but will also work with any number of other EML generators (e.g. <a
href="https://ezeml.edirepository.org/eml/">ezEML</a>).</p>
<p>Currently, many of the steps in EMLeditor are interactive and will
give you feedback on the current fields in your metadata, ask if you
want to update them, and report on the results of your edits.</p>
<div id="import-your-metadata-into-r" class="section level3">
<h3>Import your metadata into R</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>my_metadata <span class="ot">&lt;-</span> EML<span class="sc">::</span><span class="fu">read_eml</span>(<span class="st">&quot;mymetadata_metdata.xml&quot;</span>, <span class="at">from=</span><span class="st">&quot;xml&quot;</span>)</span></code></pre></div>
</div>
<div id="add-information-about-cui" class="section level3">
<h3>Add information about CUI</h3>
<p>Add information about your Controlled Unclassified Information (CUI).
Because it is important to indicate not only what type of CUI there is,
but when (and why) there is not CUI, <strong>you must do this even if
your data package does not contain CUI</strong>. Choose from one of
seven CUI codes. These are:</p>
<ul>
<li>PUBFUL - Does NOT contain CUI. The original data contained no CUI.
No data were obscured or altered to generate the data package.</li>
<li>PUBVER - Does NOT contain CUI. The original data contained CUI, but
in this data package CUI have been obscured so that it no longer
contains CUI.</li>
<li>NPSONLY - Contains CUI. For NPS access only.</li>
<li>FED ONLY - Contains CUI. Only federal employees should have access
(similar to “internal only” in DataStore).</li>
<li>FEDCON - Contains CUI. Only federal employees and federal
contractors should have access (also very much like current “internal
only” setting in DataStore)</li>
<li>DL ONLY - Contains CUI. Should only be available to a names list of
individuals (where and how to list those individuals TBD)</li>
<li>NOCON - Contains CUI. Federal, state, local, or tribal employees may
have access, but contractors cannot.</li>
</ul>
<p>The first three codes are NPS specific. More information about the
remaining four codes can be found on the <a
href="https://www.archives.gov/cui/registry/limited-dissemination">National
Archives website</a>.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>my_meta2 <span class="ot">&lt;-</span> <span class="fu">set_cui</span>(my_metadata, <span class="st">&quot;PUBFUL&quot;</span>)</span></code></pre></div>
</div>
<div id="add-a-data-package-doi" class="section level3">
<h3>Add a data package DOI</h3>
<p>Add your data package’s Digital Object Identifier (DOI). To do this,
you will need the seven-digit Reference ID from DataStore for the data
package. To get the code, go to <a
href="https://irma.nps.gov/DataStore/">DataStore</a> and initiate a
draft reference (but do not activate it). This act reserves your DOI,
but it is not activated until after your data package is published.</p>
<p>There is no need to fill in any additional fields in DataStore at
this point - many of them will automatically be populated based on your
metadata at upload.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>my_meta2 <span class="ot">&lt;-</span> <span class="fu">set_doi</span>(my_meta2, <span class="dv">1234567</span>)</span></code></pre></div>
</div>
<div id="add-information-about-the-drr-optional" class="section level3">
<h3>Add information about the DRR (optional)</h3>
<p>If you are producing (or plan to produce) a DRR, add links to the DRR
describing the data package.</p>
<p>Similar to when you added the data package DOI, you will need the DOI
for the DRR you are drafting as well as the DRR’s Title. Again, go to <a
href="https://irma.nps.gov/DataStore">DataStore</a> and initiate a draft
DRR, including a title. For the purposes of the data package, there is
no need to populate any other fields. At this point, you do not need to
activate the DRR reference and, while a DOI has been reserved for your
DRR, it will not be activated until after publication so that you have
plenty of time to construct the DRR.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>my_meta2 <span class="ot">&lt;-</span> <span class="fu">set_drr_doi</span>(my_meta2, <span class="dv">7654321</span>, <span class="st">&quot;DRR Title&quot;</span>)</span></code></pre></div>
</div>
<div id="set-the-language" class="section level3">
<h3>Set the language</h3>
<p>This is the human language (as opposed to computer language) that the
data package and metadata are constructed in. Examples include English,
Spanish, Navajo, etc.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>my_meta2 <span class="ot">&lt;-</span> <span class="fu">set_language</span>(my_meta2, <span class="st">&quot;English&quot;</span>)</span></code></pre></div>
</div>
<div id="add-content-unit-links" class="section level3">
<h3>Add Content Unit Links</h3>
<p>These are the park units where data were collected from, for instance
ROMO, not ROMN. If the data package includes data from more than one
park, they can all be listed. For instance, if data were collected from
all park units within a network, each unit should be listed separately
rather than the network. This is because the geographic coordinates
corresponding to bounding boxes for each park unit listed will
automatically be generated and inserted into the metadata. Individual
park units will be more informative than the bounding box for the entire
network.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>park_units <span class="ot">&lt;-</span> (<span class="st">&quot;ROMO&quot;</span>, <span class="st">&quot;GRSD&quot;</span>, <span class="st">&quot;YELL&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>my_meta2 <span class="ot">&lt;-</span> <span class="fu">set_content_units</span>(my_meta2, park_units)</span></code></pre></div>
</div>
<div id="add-the-producing-unit" class="section level3">
<h3>Add the Producing Unit</h3>
<p>This is the unit responsible for generating the data package. It may
be a single park (ROMO) or a network (ROMN). It may be identical to the
units listed in the previous step, overlapping, or entirely
different.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>my_meta2 <span class="ot">&lt;-</span> <span class="fu">set_producing_units</span>(my_meta2, <span class="st">&quot;ROMN&quot;</span>)</span></code></pre></div>
<p>Great! You’re done adding the essential NPS-specific metadata to your
EML. There are only two quick steps left:</p>
</div>
<div id="validate-your-eml" class="section level3">
<h3>Validate your EML</h3>
<p>OK, this first one might take a tick to run:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>EML<span class="sc">::</span><span class="fu">eml_validate</span>(my_meta2)</span></code></pre></div>
<p>If eml_validate returns errors, inspect them and fix them. Feel free
to contribute an <a
href="https://github.com/nationalparkservice/EMLeditor/issues">issue</a>,
or email <a
href="mailto:robert_baker@nps.gov?subject=EMLeditor%20issues">Rob
Baker</a> with questions, concerns, or suggestions.</p>
</div>
<div id="write-your-edited-eml-back-to-disk" class="section level3">
<h3>Write your edited EML back to disk</h3>
<p>Assuming everything went smoothly and eml_validate returns ‘TRUE’,
write your EML back to your disk so you can upload it with your data
files to DataStore. Keep in mind that the file name should end in
_metadata.xml. Also, when uploading your data package (data files and
metadata) to DataStore, make sure to upload it to the correct draft
reference!</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>EML<span class="sc">::</span><span class="fu">write_eml</span>(my_meta2, <span class="st">&quot;mymetadatafilename_metadata.xml&quot;</span>)</span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>



    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Robert Baker.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

    </footer></div>

  

  

  </body></html>
